#!/bin/bash

# ===============================
# üé® MINI SWEET HOME - TMUX MODE MANAGER
# ===============================

DOTFILES_DIR="$HOME/mini-sweet-home"
CURRENT_LINK=$(readlink ~/.tmux.conf)

echo "üé® Tmux Configuration Manager"
echo "=============================="

# Detect current mode
if [[ "$CURRENT_LINK" == *"tmux-fast.conf"* ]]; then
    CURRENT_MODE="FAST"
elif [[ "$CURRENT_LINK" == *"tmux-hybrid.conf"* ]]; then
    CURRENT_MODE="HYBRID"
else
    CURRENT_MODE="FULL"
fi

echo "üìä Current mode: $CURRENT_MODE"
echo ""

# Show options
echo "Available modes:"
echo "1Ô∏è‚É£  FAST    - 100/100 performance, minimal features"
echo "2Ô∏è‚É£  HYBRID  - 95/100 performance, manual resurrect"  
echo "3Ô∏è‚É£  FULL    - 90/100 performance, all plugins"
echo ""

read -p "Choose mode (1/2/3): " choice

case $choice in
    1)
        ln -sf "$DOTFILES_DIR/configs/tmux/tmux-fast.conf" ~/.tmux.conf
        echo "‚ö° FAST MODE - 100/100 performance"
        ;;
    2)
        ln -sf "$DOTFILES_DIR/configs/tmux/tmux-hybrid.conf" ~/.tmux.conf
        echo "‚öñÔ∏è HYBRID MODE - Manual resurrect (Prefix+Ctrl+s/r)"
        ;;
    3)
        ln -sf "$DOTFILES_DIR/configs/tmux/tmux.conf" ~/.tmux.conf
        echo "üîå FULL MODE - All plugins enabled"
        ;;
    *)
        echo "‚ùå Invalid choice"
        exit 1
        ;;
esac

echo "üîÑ Reload: tmux source-file ~/.tmux.conf"
echo "üìä Test: make benchmark"
