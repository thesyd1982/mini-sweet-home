#!/bin/bash

# ===============================
# ğŸ’¾ BACKUP CONFIGS V4
# ===============================

BACKUP_DIR="$HOME/.dotfiles_manual_backup_$(date +%Y%m%d_%H%M%S)"

echo "ğŸš€ Sauvegarde des configurations..."

mkdir -p "$BACKUP_DIR"

# Configurations Ã  sauvegarder
configs=(
    ".zshrc"
    ".tmux.conf" 
    ".gitconfig"
    ".config/nvim"
    ".ssh/config"
    ".aws"
    ".docker"
)

backed_up=0

for config in "${configs[@]}"; do
    if [[ -e "$HOME/$config" ]]; then
        cp -r "$HOME/$config" "$BACKUP_DIR/" 2>/dev/null || true
        echo "âœ… SauvegardÃ©: $config"
        ((backed_up++))
    fi
done

# Sauvegarder les dotfiles eux-mÃªmes
if [[ -d "$HOME/dotfiles" ]]; then
    cp -r "$HOME/dotfiles" "$BACKUP_DIR/dotfiles_copy" 2>/dev/null || true
    echo "âœ… SauvegardÃ©: dotfiles/"
    ((backed_up++))
fi

echo
echo "ğŸ“ Sauvegarde terminÃ©e: $BACKUP_DIR"
echo "ğŸ“Š Fichiers sauvegardÃ©s: $backed_up"
echo
echo "Pour restaurer:"
echo "  cp -r $BACKUP_DIR/.zshrc ~/"
echo "  cp -r $BACKUP_DIR/.tmux.conf ~/"
echo "  # etc..."
